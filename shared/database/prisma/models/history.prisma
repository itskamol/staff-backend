model ChangeHistory {
  id             Int       @id @default(autoincrement())
  userId         Int       @map("user_id")
  tableName      String    @map("table_name")
  fieldName      String    @map("field_name")
  oldValue       String?   @map("old_value")
  newValue       String?   @map("new_value")
  organizationId Int       @map("organization_id")
  createdAt      DateTime  @default(now()) @map("created_at")
  deletedAt      DateTime? @map("deleted_at")

  organization Organization @relation(fields: [organizationId], references: [id], onDelete: Cascade)
  user         User         @relation(fields: [userId], references: [id], onDelete: Cascade)

  @@index([organizationId])
  @@index([userId])
  @@index([tableName])
  @@index([createdAt])
  @@index([userId, tableName])
  @@index([tableName, createdAt])
  @@map("change_histories")
}
