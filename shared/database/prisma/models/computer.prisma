model ComputerUser {
  id             Int       @id @default(autoincrement())
  employeeId     Int       @map("employee_id")
  sid            String    @unique
  name           String
  domain         String?
  username       String
  isAdmin        Boolean   @default(false) @map("is_admin")
  isInDomain     Boolean   @default(false) @map("is_in_domain")
  isActive       Boolean   @default(true) @map("is_active")
  createdAt      DateTime  @default(now()) @map("created_at")
  updatedAt      DateTime  @updatedAt @map("updated_at")
  deletedAt      DateTime? @map("deleted_at")
  organizationId Int       @map("organization_id")

  organization  Organization   @relation(fields: [organizationId], references: [id], onDelete: Cascade)
  employee      Employee       @relation(fields: [employeeId], references: [id], onDelete: Cascade)
  computers     Computer[]
  activeWindows ActiveWindow[]
  visitedSites  VisitedSite[]
  screenshots   Screenshot[]
  userSessions  UserSession[]

  @@index([organizationId])
  @@index([employeeId])
  @@index([sid])
  @@index([username])
  @@map("computer_users")
}

model Computer {
  id             Int       @id @default(autoincrement())
  computerUid    String    @unique @map("computer_uid")
  os             String?
  ipAddress      String?   @map("ip_address")
  macAddress     String?   @map("mac_address")
  isActive       Boolean   @default(true) @map("is_active")
  createdAt      DateTime  @default(now()) @map("created_at")
  updatedAt      DateTime  @updatedAt @map("updated_at")
  deletedAt      DateTime? @map("deleted_at")
  organizationId Int       @map("organization_id")

  organization  Organization   @relation(fields: [organizationId], references: [id], onDelete: Cascade)
  computerUsers ComputerUser[]

  @@index([organizationId])
  @@index([computerUid])
  @@index([ipAddress])
  @@index([macAddress])
  @@map("computers")
}
